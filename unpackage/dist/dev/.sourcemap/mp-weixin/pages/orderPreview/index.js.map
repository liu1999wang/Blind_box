{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/admin/Desktop/src/src/pages/orderPreview/index.vue?8f8f","webpack:///C:/Users/admin/Desktop/src/src/pages/orderPreview/index.vue?6653","webpack:///C:/Users/admin/Desktop/src/src/pages/orderPreview/index.vue?b6b3","webpack:///C:/Users/admin/Desktop/src/src/pages/orderPreview/index.vue?516e","uni-app:///pages/orderPreview/index.vue","webpack:///C:/Users/admin/Desktop/src/src/pages/orderPreview/index.vue?8a65","webpack:///C:/Users/admin/Desktop/src/src/pages/orderPreview/index.vue?fd88"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/orderPreview/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/orderPreview/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=53b784d6&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/orderPreview/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=53b784d6&\"","var components\ntry {\n  components = {\n    SelectAddress: function() {\n      return import(\n        /* webpackChunkName: \"components/SelectAddress/SelectAddress\" */ \"@/components/SelectAddress/SelectAddress.vue\"\n      )\n    },\n    SkuItem: function() {\n      return import(\n        /* webpackChunkName: \"components/SkuItem/SkuItem\" */ \"@/components/SkuItem/SkuItem.vue\"\n      )\n    },\n    PriceDisplay: function() {\n      return import(\n        /* webpackChunkName: \"components/PriceDisplay/PriceDisplay\" */ \"@/components/PriceDisplay/PriceDisplay.vue\"\n      )\n    },\n    UsableCouponPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/UsableCouponPopup/UsableCouponPopup\" */ \"@/components/UsableCouponPopup/UsableCouponPopup.vue\"\n      )\n    },\n    NoData: function() {\n      return import(\n        /* webpackChunkName: \"components/NoData/NoData\" */ \"@/components/NoData/NoData.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 =\n    _vm.init && _vm.currentCoupon.id\n      ? _vm._f(\"priceToFixed\")(_vm.order.coupon_discount)\n      : null\n  var f1 =\n    _vm.init && _vm.order.cover_discount\n      ? _vm._f(\"priceToFixed\")(_vm.order.cover_discount)\n      : null\n  var f2 = _vm.init ? _vm._f(\"priceToFixed\")(_vm.order.redpack) : null\n  var f3 =\n    _vm.init && _vm.order.max_useable_score && _vm.order.score_discount\n      ? _vm._f(\"priceToFixed\")(_vm.order.score_discount)\n      : null\n  var f4 =\n    _vm.init && !(_vm.order.carriage_type === 2)\n      ? _vm._f(\"priceToFixed\")(_vm.order.carriage)\n      : null\n  var f5 = _vm.init ? _vm._f(\"priceToFixed\")(_vm.order.price) : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.couponsVisible = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.couponsVisible = true\n    }\n\n    _vm.e2 = function($event) {\n      _vm.couponsVisible = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1,\n        f2: f2,\n        f3: f3,\n        f4: f4,\n        f5: f5\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<template v-if=\"init\">\r\n\t\t\t<view class=\"address padding\" v-if=\"isNeedAddress\">\r\n\t\t\t\t<SelectAddress v-model=\"address\" :isShowPhone=\"true\"></SelectAddress>\r\n\t\t\t</view>\r\n\t\t\t<SplitLine></SplitLine>\r\n\t\t\t<view class=\"products\">\r\n\t\t\t\t<SkuItem class=\"sku\" :info=\"item\" v-for=\"(item, index) in products\"></SkuItem>\r\n\t\t\t\t<!-- <view class=\"product-item padding\" :class=\"{'border-bottom': index !== products.length - 1}\" v-for=\"(item,index) in products\"\r\n\t\t\t\t :key=\"item.sku_id\">\r\n\t\t\t\t\t<image :src=\"item.thumb\" class=\"thumb\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t<view class=\"product-title\">\r\n\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"attrs gray\">\r\n\t\t\t\t\t\t\t<text>{{item.attrs | productAttrsToString}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"price-count\">\r\n\t\t\t\t\t\t\t<PriceDisplay :info=\"item\"></PriceDisplay>\r\n\t\t\t\t\t\t\t<text style=\"flex-grow: 1;\"></text>\r\n\t\t\t\t\t\t\t<text>x{{item.total}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t\t<SplitLine></SplitLine>\r\n\t\t\t<view class=\"list padding\">\r\n\t\t\t\t<view class=\"list-item\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t商品总价\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<PriceDisplay :info=\"order\" prefix=\"product_\"></PriceDisplay>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- <text class=\"meta\">¥{{order.product_price | priceToFixed}}</text> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list-item\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t优惠券\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\" v-if=\"currentCoupon.id\" @tap=\"couponsVisible = true\">\r\n\t\t\t\t\t\t<text class=\"meta red\">- ¥{{order.coupon_discount | priceToFixed}}</text>\r\n\t\t\t\t\t\t<text class=\"new-iconfont icon-arrow-right\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right\" v-else @tap=\"couponsVisible = true\">\r\n\t\t\t\t\t\t<text class=\"meta\" v-if=\"usableCoupons.length\">{{usableCoupons.length}}张可用</text>\r\n\t\t\t\t\t\t<text class=\"meta\" v-else>无可用</text>\r\n\t\t\t\t\t\t<text class=\"new-iconfont icon-arrow-right\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"list-item\" v-if=\"order.cover_type\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t兑换类型\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\">\r\n\t\t\t\t\t\t<text class=\"meta\" v-if=\"order.cover_type === 'chip'\">碎片兑换</text>\r\n\t\t\t\t\t\t<text class=\"meta\" v-else-if=\"order.cover_type === 'score'\">{{scoreAlias}}兑换</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"list-item\" v-if=\"order.cover_discount\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t兑换优惠\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\">\r\n\t\t\t\t\t\t<text class=\"meta red\">- ¥{{order.cover_discount | priceToFixed}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"list-item\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t红包抵扣\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\">\r\n\t\t\t\t\t\t<text class=\"meta red\"> <template v-if=\"order.redpack\">-</template> ¥{{order.redpack | priceToFixed}}</text>\r\n\t\t\t\t\t\t<switch v-if=\"order.redpack\" class=\"redpack-switch\" :checked=\"order.is_use_redpack\" @change=\"redpackSwitchChange\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list-item\" v-if=\"order.max_useable_score\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t{{scoreAlias}}抵扣\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\">\r\n\t\t\t\t\t\t<text class=\"meta\"> {{order.max_useable_score}}{{scoreAlias}}</text>\r\n\t\t\t\t\t\t<text class=\"meta red\" style=\"margin-left: 10rpx;\" v-if=\"order.score_discount\"> -¥{{order.score_discount | priceToFixed}}</text>\r\n\t\t\t\t\t\t<switch v-if=\"order.max_useable_score\" class=\"redpack-switch\" :checked=\"order.is_use_score\" @change=\"scoreSwitchChange\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list-item\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t运费\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\" v-if=\"order.carriage_type === 2\">\r\n\t\t\t\t\t\t<text class=\"meta red\">到付</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\" v-else>\r\n\t\t\t\t\t\t<text class=\"meta red\">+ ¥{{order.carriage | priceToFixed}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list-item\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t实付\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right bold\">\r\n\t\t\t\t\t\t<text class=\"meta\">¥{{order.price | priceToFixed}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list-item\">\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t备注\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"arrow-right remark\">\r\n\t\t\t\t\t\t<input type=\"text\" v-model=\"remark\" placeholder=\"请输入您对商家说的话\" placeholder-class=\"placeholder\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"height:160upx;\"></view>\r\n\t\t\t<view class=\"footer-actions safe-area-bottom\">\r\n\t\t\t\t<view class=\"price-c\">\r\n\t\t\t\t\t<!-- <OrderPrice :now-price=\"totalPrice/100\"></OrderPrice> -->\r\n\t\t\t\t\t<PriceDisplay :info=\"order\" prefix=\"pay_\"></PriceDisplay>\r\n\t\t\t\t</view>\r\n\t\t\t\t<IButton round size=\"small\" @click=\"disableMultiClick(payOrder)\">\r\n\t\t\t\t\t<text>确认订单</text>\r\n\t\t\t\t</IButton>\r\n\t\t\t</view>\r\n\t\t\t<UsableCouponPopup \r\n\t\t\t\tv-if=\"couponsVisible\"  \r\n\t\t\t\t:unusableCoupons=\"unusableCoupons\" \r\n\t\t\t\t:usableCoupons=\"usableCoupons\" \r\n\t\t\t\t:currentCoupon=\"currentCoupon\"\r\n\t\t\t\t@change=\"couponChange\"\r\n\t\t\t\t@close=\"couponsVisible = false\">\r\n\t\t\t</UsableCouponPopup>\r\n\t\t\t\r\n\t\t</template>\r\n\t\t<NoData v-else></NoData>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport mixin from \"@/utils/mixin.js\"\r\n\timport SplitLine from \"@/components/SplitLine/index.vue\";\r\n\timport IButton from \"@/components/Button/index.vue\";\r\n\timport payment from \"@/utils/payment.js\"\r\n\timport {\r\n\t\tmapGetters\r\n\t} from \"vuex\"\r\n\texport default {\r\n\t\tmixins: [mixin],\r\n\t\tcomponents: {\r\n\t\t\tSplitLine,\r\n\t\t\tIButton,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\taddress: {},\r\n\t\t\t\torder: {\r\n\t\t\t\t\tis_use_redpack: 'unselect'\r\n\t\t\t\t},\r\n\t\t\t\tisNeedAddress: 0,\r\n\t\t\t\tskus: [],\r\n\t\t\t\tseckillId: '',\r\n\t\t\t\tgroupPriceUuid: '',\r\n\t\t\t\tproducts: [],\r\n\t\t\t\tremark: '',\r\n\t\t\t\tinit: false,\r\n\t\t\t\tcouponsVisible: false,\r\n\t\t\t\tunusableCoupons: [],\r\n\t\t\t\tusableCoupons: [],\r\n\t\t\t\tcurrentCoupon: {},\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tanimationData: {},\r\n\t\t\t\tanimationData2: {},\r\n\t\t\t\tcoverType: '',\r\n\t\t\t\t_source: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters(['token']),\r\n\t\t\ttotalPrice() {\r\n\t\t\t\tlet total = this.order.price;\r\n\t\t\t\treturn total\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\t// console.log(e.skus)\r\n\t\t\tthis.seckillId = e.seckillId\r\n\t\t\tthis.groupPriceUuid = e.groupPriceUuid\r\n\t\t\tthis.coverType = e.coverType\r\n\t\t\tthis.skus = JSON.parse(e.skus)\r\n\t\t\tthis._source = e._source\r\n\t\t\t\r\n\t\t\tuni.$on('selectAddress', res => {\r\n\t\t\t\tthis.address = res\r\n\t\t\t\tthis.getOrderInfo()\r\n\t\t\t})\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.$off('selectAddress', data => {\r\n\t\t\t\tconsole.log('移除 selectAddress 自定义事件');\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif (this.token && !this.address.id) {\r\n\t\t\t\tthis.getOrderInfo()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tredpackSwitchChange(e) {\r\n\t\t\t\tthis.order.is_use_redpack = e.detail.value ? 1 : 0\r\n\t\t\t\tthis.getOrderInfo()\r\n\t\t\t},\r\n\t\t\tscoreSwitchChange(e) {\r\n\t\t\t\tthis.order.is_use_score = e.detail.value ? 1 : 0\r\n\t\t\t\tthis.getOrderInfo()\r\n\t\t\t},\r\n\t\t\tcouponChange (e) {\r\n\t\t\t\tif (e.id === this.currentCoupon.id) {\r\n\t\t\t\t\t// 再次点击取消使用优惠券  // 暂时关闭此功能\r\n\t\t\t\t\tthis.currentCoupon = {}\r\n\t\t\t\t\tthis.getOrderInfo()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentCoupon = e\r\n\t\t\t\t\tthis.getOrderInfo()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreateOrder() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.$api.emit('order.store', {\r\n\t\t\t\t\tpayment: 'miniapp',\r\n\t\t\t\t\tskus: this.skus,\r\n\t\t\t\t\tcoupon_id: this.currentCoupon && this.currentCoupon.id,\r\n\t\t\t\t\tseckill_id: this.seckillId,\r\n\t\t\t\t\tgroup_price_uuid: this.groupPriceUuid,\r\n\t\t\t\t\taddress_id: this.address && this.address.id,\r\n\t\t\t\t\tremark: this.remark,\r\n\t\t\t\t\tcover_type: this.coverType,\r\n\t\t\t\t\tis_use_redpack: this.order.is_use_redpack,\r\n\t\t\t\t\tis_use_score: this.order.is_use_score,\r\n\t\t\t\t\t_source: this._source\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tlet info = res.data\r\n\t\t\t\t\tlet order = res.data.order\r\n\t\t\t\t\tif (!info.is_need_pay) {\r\n\t\t\t\t\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"支付成功，正在跳转~\",\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: \"/pages/orderDetail/index?uuid=\" + order.uuid\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t// 进行支付\r\n\t\t\t\t\tpayment.pay({\r\n\t\t\t\t\t\t...info,\r\n\t\t\t\t\t\tpay_type: info.pay_type,\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"支付成功\",\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: \"/pages/orderList/index?status=deliver_pending\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"支付失败\",\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: \"/pages/orderDetail/index?uuid=\" + order.uuid\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpayOrder() {\r\n\t\t\t\tif (this.isNeedAddress && !this.address.id) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"未添加收货地址\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 微信小程序请求订阅消息\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tuni.requestSubscribeMessage({\r\n\t\t\t\t\t  tmplIds: [\r\n\t\t\t\t\t\t\tthis.miniappSubscribeIds.order_delivered,  // 发货提醒\r\n\t\t\t\t\t\t\tthis.miniappSubscribeIds.order_paid, // 支付成功通知\r\n\t\t\t\t\t  ],\r\n\t\t\t\t\t  complete: (res) => {\r\n\t\t\t\t\t\t  this.createOrder()\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\t\t\tthis.createOrder()\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tgetOrderInfo() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.$api.emit('order.preview.store', {\r\n\t\t\t\t\tskus: this.skus,\r\n\t\t\t\t\taddress_id: this.address && this.address.id,\r\n\t\t\t\t\tseckill_id: this.seckillId,\r\n\t\t\t\t\tgroup_price_uuid: this.groupPriceUuid,\r\n\t\t\t\t\tcoupon_id: this.currentCoupon.id,\r\n\t\t\t\t\tcover_type: this.coverType,\r\n\t\t\t\t\tis_use_redpack: this.order.is_use_redpack,\r\n\t\t\t\t\tis_use_score: this.order.is_use_score ? 1 : 0,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tthis.init = true\r\n\t\t\t\t\tthis.order = res.data.order\r\n\t\t\t\t\tthis.products = res.data.order.skus\r\n\t\t\t\t\tthis.unusableCoupons = res.data.order.coupons.unusable\r\n\t\t\t\t\tthis.usableCoupons = res.data.order.coupons.usable\r\n\t\t\t\t\tthis.address = res.data.address\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.isNeedAddress = res.data.is_need_address\r\n\r\n\t\t\t\t\t// 提示一些信息： 如活动库存不足够，将按原价结算\r\n\t\t\t\t\tif (res.data.tips) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: res.data.tips,\r\n\t\t\t\t\t\t\ttitle: '温馨提示'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.list-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.list-item .body {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.list-item-title {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.redpack-switch {\r\n\t\tmargin-left: 20rpx;\r\n\t\tposition: relative;\r\n\t\tleft: 10rpx;\r\n\t}\r\n\r\n\t.address {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.products {\r\n\t}\r\n\r\n\t.list-item {\r\n\t\theight: 80upx;\r\n\r\n\t\t.body {\r\n\t\t\tfont-size: 28upx;\r\n\t\t}\r\n\r\n\t\t.arrow-right {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t&.bold {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.icon-arrow-right {\r\n\t\t\t\tfont-size: 42rpx;\r\n\t\t\t\tmargin-right: -14rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.meta {\r\n\t\t\tfont-size: 26upx;\r\n\t\t}\r\n\r\n\t\t.remark {\r\n\t\t\tinput {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\twidth: 600upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\t.footer-actions {\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tbackground-color: #ffffff;\r\n\t\tbox-shadow: 0 -6upx 8upx rgba(206, 206, 206, 0.3);\r\n\t\tpadding: 0 24upx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.price-c {\r\n\t\t\theight: 114upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 46upx;\r\n\t\t\tcolor: #E63111;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666352903059\n      var cssReload = require(\"E:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}