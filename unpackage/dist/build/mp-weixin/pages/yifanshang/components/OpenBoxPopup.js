(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/yifanshang/components/OpenBoxPopup"],{"607e":function(t,e,n){"use strict";n.r(e);var i=n("7672"),o=n("bb3c");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("a538");var r,s=n("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"d6dde4b2",null,!1,i["a"],r);e["default"]=u.exports},7672:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},a=[]},a538:function(t,e,n){"use strict";var i=n("ebc8"),o=n.n(i);o.a},bb3c:function(t,e,n){"use strict";n.r(e);var i=n("fd1d"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},ebc8:function(t,e,n){},fd1d:function(t,e,n){"use strict";(function(t){function n(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw r}}}}function i(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{boxImg:String,buttonTitle:String,order:Object,tryMode:Boolean,tryInfo:Object,info:Object,isNavbarEnable:!1,istry:Boolean,payTotal:Number},data:function(){return{isOpen:!1,showResult:!1,status:0,isShowReturnSale:!1,isReturnSaleSuccess:!1,package:{},defaultBoxImage:"https://cdn2.hquesoft.com/box/openbox.png",isNotOpen:!1,selectedIds:[],total_money_price:0,total_score_price:0,tryskus:[]}},mounted:function(){this.initData()},computed:{skus:function(){return this.package.skus||[]},orderConfig:function(){return this.$store.getters.setting.order},rewardJikaTimes:function(){return this.package.reward&&this.package.reward.jika_times},rewardLotteryTicket:function(){return this.package.reward&&this.package.reward.lottery_ticket}},methods:{viewFreeOrderDetail:function(){this.info.money_price?t.navigateTo({url:"/pages/myRedpack/index"}):t.navigateTo({url:"/pages/myScore/index"})},randomSort:function(t,e){return Math.random()>.5?-1:1},initData:function(){var t=this;if(console.log("111",this.info,this.istry),this.istry){for(var e=0;e<this.info.skus.length;e++)"Last赏"==this.info.skus[e].shang_title&&this.info.skus.splice(e,1),"最终赏"==this.info.skus[e].shang_title&&this.info.skus.splice(e,1);for(var i=0;i<this.info.skus.length;i++)this.info.skus[i].total=1,this.info.skus[i].options={room_num:2,shang_title:this.info.skus[i].shang_title,shang_type:0};var o=this.info.skus.sort(this.randomSort);this.package.skus=new Array,1==this.payTotal?this.package.skus.push(o[0]):3==this.payTotal?this.package.skus.push(o[0],o[1],o[2]):5==this.payTotal&&this.package.skus.push(o[0],o[1],o[2],o[3],o[4]);var a,r=n(this.package.skus);try{for(r.s();!(a=r.n()).done;){var s=a.value;this.total_money_price+=s.money_price*s.total,this.total_score_price+=s.score_price*s.total}}catch(u){r.e(u)}finally{r.f()}this.tryskus=this.package.skus,console.log(this.package.skus,o),this.startOpenAnimate()}else this.$http("/asset/package?order_id=".concat(this.order.id)).then((function(e){t.package=e.data;var i,o=n(t.package.skus);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.total_money_price+=a.money_price*a.total,t.total_score_price+=a.score_price*a.total}}catch(u){o.e(u)}finally{o.f()}console.log(t.package.skus),t.startOpenAnimate()})).catch((function(e){t.isNotOpen=!0}))},onekeyrecycle_try:function(){t.redirectTo({url:"/pages/page/index?uuid=635180d9968bf"})},onekeyrecycle:function(){var e=this;t.showModal({title:"确认分解",content:"确认要分解吗?",success:function(i){if(i.confirm){t.showLoading({title:"分解中..."});var o,a=n(e.skus);try{for(a.s();!(o=a.n()).done;){var r=o.value;e.selectedIds.push(r.id)}}catch(s){a.e(s)}finally{a.f()}console.log(e.selectedIds),e.$http("/asset/return-sale/confirm","post",{ids:e.selectedIds}).then((function(t){e.isReturnSaleSuccess=0,e.refresh(),e.isSelectMode=!1,e.$emit("refresh")}))}}}),this.close()},startOpenAnimate:function(){var t=this;setTimeout((function(){t.status=1,setTimeout((function(){t.isOpen=!0,t.$playAudio("open"),setTimeout((function(){t.showResult=!0}),300)}),200)}),100)},handleRefresh:function(){this.isNotOpen=!1,this.initData()},goLotteryDetail:function(){t.navigateTo({url:"/pages/lottery/detail?uuid="+this.rewardLotteryTicket.uuid})},goJikaDetail:function(){t.navigateTo({url:"/pages/jika/detail?uuid="+this.rewardJikaTimes.uuid})},returnSale:function(){t.navigateTo({url:"/pages/myBox/index"})},handleOk:function(){t.navigateTo({url:"/pages/myBox/index"})},goBack:function(){t.navigateBack({delta:1})},close:function(){this.$emit("close"),this.$emit("refresh")},checkSku:function(e){"score"===e.sku_type?t.navigateTo({url:"/pages/myScore/index"}):"coupon"===e.sku_type?t.navigateTo({url:"/pages/myCoupons/index"}):"redpack"===e.sku_type?t.navigateTo({url:"/pages/myRedpack/index"}):console.log(e)}}};e.default=a}).call(this,n("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/yifanshang/components/OpenBoxPopup-create-component',
    {
        'pages/yifanshang/components/OpenBoxPopup-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("607e"))
        })
    },
    [['pages/yifanshang/components/OpenBoxPopup-create-component']]
]);
