<view class="container"><block wx:if="{{init}}"><block wx:if="{{isNeedAddress}}"><view class="address padding"><select-address bind:input="__e" vue-id="233996f0-1" isShowPhone="{{true}}" value="{{address}}" data-event-opts="{{[['^input',[['__set_model',['','address','$event',[]]]]]]}}" bind:__l="__l"></select-address></view></block><split-line vue-id="233996f0-2" bind:__l="__l"></split-line><view class="products"><block wx:for="{{products}}" wx:for-item="item" wx:for-index="index"><sku-item class="sku" vue-id="{{'233996f0-3-'+index}}" info="{{item}}" bind:__l="__l"></sku-item></block></view><split-line vue-id="233996f0-4" bind:__l="__l"></split-line><view class="list padding"><view class="list-item"><view class="body">商品总价</view><view class="arrow-right bold"><view><price-display vue-id="233996f0-5" info="{{order}}" prefix="product_" bind:__l="__l"></price-display></view></view></view><view class="list-item"><view class="body">优惠券</view><block wx:if="{{currentCoupon.id}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="arrow-right bold" bindtap="__e"><text class="meta red">{{"- ¥"+$root.f0}}</text><text class="new-iconfont icon-arrow-right"></text></view></block><block wx:else><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="arrow-right" bindtap="__e"><block wx:if="{{usableCoupons.length}}"><text class="meta">{{usableCoupons.length+"张可用"}}</text></block><block wx:else><text class="meta">无可用</text></block><text class="new-iconfont icon-arrow-right"></text></view></block></view><block wx:if="{{order.cover_type}}"><view class="list-item"><view class="body">兑换类型</view><view class="arrow-right bold"><block wx:if="{{order.cover_type==='chip'}}"><text class="meta">碎片兑换</text></block><block wx:else><block wx:if="{{order.cover_type==='score'}}"><text class="meta">{{scoreAlias+"兑换"}}</text></block></block></view></view></block><block wx:if="{{order.cover_discount}}"><view class="list-item"><view class="body">兑换优惠</view><view class="arrow-right bold"><text class="meta red">{{"- ¥"+$root.f1}}</text></view></view></block><view class="list-item"><view class="body">红包抵扣</view><view class="arrow-right bold"><text class="meta red"><block wx:if="{{order.redpack}}">-</block>{{'¥'+$root.f2}}</text><block wx:if="{{order.redpack}}"><switch class="redpack-switch" checked="{{order.is_use_redpack}}" data-event-opts="{{[['change',[['redpackSwitchChange',['$event']]]]]}}" bindchange="__e"></switch></block></view></view><block wx:if="{{order.max_useable_score}}"><view class="list-item"><view class="body">{{''+scoreAlias+'抵扣'}}</view><view class="arrow-right bold"><text class="meta">{{''+order.max_useable_score+scoreAlias}}</text><block wx:if="{{order.score_discount}}"><text class="meta red" style="margin-left:10rpx;">{{'-¥'+$root.f3}}</text></block><block wx:if="{{order.max_useable_score}}"><switch class="redpack-switch" checked="{{order.is_use_score}}" data-event-opts="{{[['change',[['scoreSwitchChange',['$event']]]]]}}" bindchange="__e"></switch></block></view></view></block><view class="list-item"><view class="body">运费</view><block wx:if="{{order.carriage_type===2}}"><view class="arrow-right bold"><text class="meta red">到付</text></view></block><block wx:else><view class="arrow-right bold"><text class="meta red">{{"+ ¥"+$root.f4}}</text></view></block></view><view class="list-item"><view class="body">实付</view><view class="arrow-right bold"><text class="meta">{{"¥"+$root.f5}}</text></view></view><view class="list-item"><view class="body">备注</view><view class="arrow-right remark"><input type="text" placeholder="请输入您对商家说的话" placeholder-class="placeholder" data-event-opts="{{[['input',[['__set_model',['','remark','$event',[]]]]]]}}" value="{{remark}}" bindinput="__e"/></view></view></view><view style="height:160rpx;"></view><view class="footer-actions safe-area-bottom"><view class="price-c"><price-display vue-id="233996f0-6" info="{{order}}" prefix="pay_" bind:__l="__l"></price-display></view><i-button vue-id="233996f0-7" round="{{true}}" size="small" data-event-opts="{{[['^click',[['disableMultiClick',['$0'],['payOrder']]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><text>确认订单</text></i-button></view><block wx:if="{{couponsVisible}}"><usable-coupon-popup vue-id="233996f0-8" unusableCoupons="{{unusableCoupons}}" usableCoupons="{{usableCoupons}}" currentCoupon="{{currentCoupon}}" data-event-opts="{{[['^change',[['couponChange']]],['^close',[['e2']]]]}}" bind:change="__e" bind:close="__e" bind:__l="__l"></usable-coupon-popup></block></block><block wx:else><no-data vue-id="233996f0-9" bind:__l="__l"></no-data></block></view>