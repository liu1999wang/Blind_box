(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/jyf-Parser/index"],{"0533":function(t,e,n){"use strict";n.r(e);var i=n("a058a"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a},"60b9":function(t,e,n){},"68e5":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement;t._self._c},o=[]},"86e4":function(t,e,n){"use strict";n.r(e);var i=n("68e5"),r=n("0533");for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);n("93db");var s,a=n("f0c5"),l=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=l.exports},"93db":function(t,e,n){"use strict";var i=n("60b9"),r=n.n(i);r.a},a058a:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=function(){n.e("components/jyf-Parser/trees").then(function(){return resolve(n("5420"))}.bind(null,n)).catch(n.oe)},o=n("f3d1").parseHtmlSync,s=getApp().parserCache={},a=n("8bd3");function l(t){for(var e=t.length,n=5381;e--;)n+=(n<<5)+t.charCodeAt(e);return n}var c="transition:400ms ease 0ms;transition-property:transform,opacity;transform-origin:50% 50% 0;-webkit-transition:400ms ease 0ms;-webkit-transform:;-webkit-transition-property:transform,opacity;-webkit-transform-origin:50% 50% 0;opacity: 1",d=n("3341");function u(t){if(0!=t.indexOf("http"))return t;for(var e="",n=0;n<t.length;n++)if(e+=Math.random()>=.5?t[n].toUpperCase():t[n].toLowerCase(),"/"==t[n]&&"/"!=t[n-1]&&"/"!=t[n+1])break;return e+=t.substring(n+1),e}var h={name:"parser",data:function(){return{showAnimation:"",controls:{},nodes:[]}},components:{trees:r},props:{html:{type:null,default:null},autocopy:{type:Boolean,default:!0},autopause:{type:Boolean,default:!0},autopreview:{type:Boolean,default:!0},autosetTitle:{type:Boolean,default:!0},domain:{type:String,default:null},imgMode:{type:String,default:"default"},lazyLoad:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},tagStyle:{type:Object,default:function(){return{}}},showWithAnimation:{type:Boolean,default:!1},useAnchor:{type:Boolean,default:!1},useCache:{type:Boolean,default:!1}},watch:{html:function(t){this.setContent(t,void 0,!0)}},mounted:function(){this.imgList=[],this.imgList.each=function(t){for(var e=0;e<this.length;e++){var n=t(this[e],e,this);n&&(this.includes(n)?this[e]=u(n):this[e]=n)}},this.setContent(this.html,void 0,!0)},methods:{setContent:function(e,n,r){var h=this;if("object"==typeof n)for(var f in n)f=f.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),this[f]=n[f];if(this.showWithAnimation&&(this.showAnimation=c),e)if("string"==typeof e){if(this.useCache){var m=l(e);s[m]?this.nodes=s[m]:(this.nodes=o(e,this),s[m]=this.nodes)}else this.nodes=o(e,this);this.$emit("parse",this.nodes)}else if("[object Array]"==Object.prototype.toString.call(e)){if(this.nodes=r?[]:e,e.length&&"Parser"!=e[0].PoweredBy){var p=function t(e){for(var n,i=0;n=e[i++];)if("text"!=n.type){for(var r in n.attrs=n.attrs||{},n.attrs)d.trustAttrs[r]?"string"!=typeof n.attrs[r]&&(n.attrs[r]=n.attrs[r].toString()):n.attrs[r]=void 0;d.LabelAttrsHandler(n,v),d.blockTags[n.name]?n.name="div":d.trustTags[n.name]||(n.name="span"),n.children&&n.children.length?(v._STACK.push(n),t(n.children),v._STACK.pop()):n.children=void 0}},v={_imgNum:0,_videoNum:0,_audioNum:0,_domain:this.domain,_protocol:this.domain?this.domain.includes("://")?this.domain.split("://")[0]:"http":void 0,_STACK:[],CssHandler:new a(this.tagStyle)};v.CssHandler.getStyle(""),p(e),this.nodes=e}}else{if("object"!=typeof e||!e.nodes)return this.$emit("error",{source:"parse",errMsg:"传入的nodes数组格式不正确！应该传入的类型是array，实际传入的类型是："+typeof e.nodes});this.nodes=e.nodes,console.warn("Parser 类型错误：object 类型已废弃，请直接将 html 设置为 object.nodes （array 类型）")}else{if(r)return;this.nodes=[]}i&&(this.document=new i("html",this.html||e,this)),this.$nextTick((function(){h.imgList.length=0,h.videoContexts=[];var e=function e(n){for(var i=function(){var i=n[r];if("trees"==i.$options.name)for(o=!1,s=i.nodes.length;a=i.nodes[--s];)a.c||("img"==a.name?(a.attrs.src&&a.attrs.i&&(-1==h.imgList.indexOf(a.attrs.src)?h.imgList[a.attrs.i]=a.attrs.src:h.imgList[a.attrs.i]=u(a.attrs.src)),o||(o=!0,h.lazyLoad&&t.createIntersectionObserver?(i._observer&&i._observer.disconnect(),i._observer=t.createIntersectionObserver(i),i._observer.relativeToViewport({top:1e3,bottom:1e3}).observe("._img",(function(t){i.imgLoad=!0,i._observer.disconnect(),i._observer=null}))):i.imgLoad=!0)):"video"==a.name?(l=t.createVideoContext(a.attrs.id,i),l.id=a.attrs.id,h.videoContexts.push(l)):"audio"==a.name&&a.attrs.autoplay?wx.createAudioContext(a.attrs.id,i).play():"title"==a.name&&h.autosetTitle&&"text"==a.children[0].type&&a.children[0].text&&t.setNavigationBarTitle({title:a.children[0].text}));i.$children.length&&e(i.$children)},r=n.length;r--;){var o,s,a,l;i()}};e(h.$children),t.createSelectorQuery().in(h).select("._contain").boundingClientRect((function(t){h.$emit("ready",t)})).exec()}))},getText:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="",n=function n(i){if("text"==i.type)return e+=i.text;if(t&&(("p"==i.name||"div"==i.name||"tr"==i.name||"li"==i.name||/h[1-6]/.test(i.name))&&e&&"\n"!=e[e.length-1]||"br"==i.name)&&(e+="\n"),i.children)for(var r=0;r<i.children.length;r++)n(i.children[r]);t&&("p"==i.name||"div"==i.name||"tr"==i.name||"li"==i.name||/h[1-6]/.test(i.name))&&e&&"\n"!=e[e.length-1]?e+="\n":t&&"td"==i.name&&(e+="\t")},i=this.nodes&&this.nodes.length?this.nodes:this.html[0]&&(this.html[0].name||this.html[0].type)?this.html:[];if(!i.length)return"";for(var r=0;r<this.data.html.length;r++)n(this.data.html[r]);return e},navigateTo:function(e){var n=this,i=function(i,r){var o=t.createSelectorQuery().in(r||n);o.select(i).boundingClientRect(),o.selectViewport().scrollOffset(),o.exec((function(n){if(!n||!n[0])return e.fail?e.fail({errMsg:"Label Not Found"}):null;t.pageScrollTo({scrollTop:n[1].scrollTop+n[0].top,success:e.success,fail:e.fail})}))};e.id?i("._contain >>> #"+e.id+", ._contain >>> ."+e.id):i("._contain")},getVideoContext:function(t){if(!t)return this.videoContexts;for(var e=this.videoContexts.length;e--;)if(this.videoContexts[e].id==t)return this.videoContexts[e];return null}}};e.default=h}).call(this,n("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/jyf-Parser/index-create-component',
    {
        'components/jyf-Parser/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("86e4"))
        })
    },
    [['components/jyf-Parser/index-create-component']]
]);
